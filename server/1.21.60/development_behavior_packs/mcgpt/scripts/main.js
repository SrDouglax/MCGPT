import{world}from"@minecraft/server";import{system}from"@minecraft/server";import{HttpHeader,HttpRequest,HttpRequestMethod,http}from"@minecraft/server-net";var ChatGPT=class{async GetResponse(sender,message,chatId="default"){try{const req=new HttpRequest(`http://localhost:3000/chat/${chatId}`);req.body=JSON.stringify({message,user:sender.name});req.method=HttpRequestMethod.Post;req.headers=[new HttpHeader("Content-Type","application/json")];const res=await http.request(req);return JSON.parse(res.body).response}catch(error){console.log(error);system.run(()=>{sender.sendMessage(`Errow: ${error}`)})}}};world.afterEvents.chatSend.subscribe(async event=>{const message=event.message;const sender=event.sender;const gpt=new ChatGPT;const res=await gpt.GetResponse(sender,message);world.sendMessage("<MCGPT> "+res)});

//# sourceMappingURL=../debug/main.js.map
